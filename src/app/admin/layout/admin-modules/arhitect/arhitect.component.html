<button class="btn btn-info" (click)="open(contentEdit)">Edit</button>
<button class="btn btn-success" (click)="open(contentPortfolio)">Add new data</button>
<section class="bg-light page-section" id="portfolio" *ngIf="arhitectData">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{{arhitectData.title}}</h2>
        <h3 class="section-subheading text-muted">{{arhitectData.subtitle}}</h3>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4 col-sm-6 portfolio-item" *ngFor="let item of arhitectData.items;let i = index">
        <a class="portfolio-link" (click)="open(content,item)">
          <div class="portfolio-hover">
            <div class="portfolio-hover-content">
              <i class="fas fa-plus fa-3x"></i>
            </div>
          </div>
          <img class="img-fluid" src="{{getPhotoUrl(item.photoId)}}" alt="">
        </a>
        <div class="portfolio-caption">
          <h4>{{item.title}}</h4>
          <p class="text-muted">{{item.subtitle}}</p>
        </div>
        <div style="text-align: center;">
         <button class="btn btn-success btn-sm" (click)="open(contentPortfolioEdit,item,i)">Edit</button>
          <button class="btn btn-danger btn-sm" (click)="remove(i)">Remove</button>
          </div>
      </div>
     
    </div>
  </div>
</section>
<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-body">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 mx-auto">
          <div class="modal-body">
            <!-- Project Details Go Here -->
            <h2 class="text-uppercase">{{currentSelectedItem.title}}</h2>
            <p class="item-intro text-muted">{{currentSelectedItem.subtitle}}</p>
            <img class="img-fluid d-block mx-auto" src="{{getPhotoUrl(currentSelectedItem.photoId)}}" alt="">
            <p>{{currentSelectedItem.description}}</p>
            <ul class="list-inline">
              <li>Date: {{currentSelectedItem.date | date: 'MMMM yyyy'}}</li>
            </ul>
            <button class="btn btn-primary" data-dismiss="modal" type="button">
              <i class="fas fa-times"></i>
              Close Project</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button (click)="c('Close click')" class="btn btn-secondary" type="button">Close</button>
  </div>



</ng-template>

<ng-template #contentEdit let-c="close" let-d="dismiss">
  <div class="modal-header">
    <p>Edit</p>
  </div>
  <div class="modal-body">
    <form [formGroup]="arhitectForm" (ngSubmit)="save(arhitectForm.value)">
      <div class="form-group">
        <label for="title">Main title:</label>
        <input type="text" class="form-control" placeholder="Title" id="title" formControlName="mainTitle">
      </div>
      <div class="form-group">
        <label for="subtitle">Subtitle:</label>
        <input type="text" class="form-control" placeholder="Subtitle" id="subtitle" formControlName="subTitle">
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="!arhitectForm.valid">Save</button>
    </form>
  </div>

  <div class="modal-footer">
    <button (click)="c('Close click')" class="btn btn-secondary" type="button">Close</button>
  </div>
</ng-template>

<ng-template #contentPortfolio let-c="close" let-d="dismiss">
  <div class="modal-header">
    <p>Add story point</p>
  </div>
  <div class="modal-body">
    <form [formGroup]="arhitectItemsForm" (ngSubmit)="saveArhitectItem(arhitectItemsForm.value)">
      <div class="form-group">
        <label for="title">Title:</label>
        <input type="text" class="form-control" placeholder="Title" id="title" formControlName="title">
      </div>
      <div class="form-group">
        <label for="subtitle">Subtitle:</label>
       <input type="text" class="form-control" placeholder="Subtitle" id="subtitle" formControlName="subtitle">
      </div>
    <div class="form-group">
      <kendo-editor [value]="editorValueAdd" (valueChange)="valueChange($event,1)" style="height: 400px;">
      </kendo-editor>
    </div>
      <div class="form-group">
        <label for="subtitle">Date:</label>
       <input type="date" class="form-control" placeholder="Date" id="date" formControlName="date">
      </div>
      <app-photo-upload [editPhotoUrl]="" [events]="eventsSubject.asObservable()" (onUploadFinished)="uploadFinished($event)">
      </app-photo-upload>
      <button type="submit" class="btn btn-primary" [disabled]="!arhitectItemsForm.valid">Save</button>
    </form>
  </div>

  <div class="modal-footer">
    <button (click)="c('Close click')" class="btn btn-secondary" type="button">Close</button>
  </div>
</ng-template>


<ng-template #contentPortfolioEdit let-c="close" let-d="dismiss">
  <div class="modal-header">
    <p>Edit story point</p>
  </div>
  <div class="modal-body">
    <form [formGroup]="arhitectItemsFormEdit" (ngSubmit)="saveArhitectItemEdit(arhitectItemsFormEdit.value)">
      <div class="form-group">
        <label for="title">Title:</label>
        <input type="text" class="form-control" placeholder="Title" id="title" formControlName="title">
      </div>
      <div class="form-group">
        <label for="subtitle">Subtitle:</label>
        <input type="text" class="form-control" placeholder="Subtitle" id="subtitle" formControlName="subtitle">
      </div>
     <div class="form-group">
       <kendo-editor [value]="editorValueEdit" (valueChange)="valueChange($event,2)" style="height: 400px;">
       </kendo-editor>
     </div>
      <div class="form-group">
        <label for="subtitle">Date:</label>
        <input type="date" class="form-control" placeholder="Date" id="date" formControlName="date">
      </div>
      
      <app-photo-upload *ngIf="currentSelectedItem" [editPhotoUrl]="getPhotoUrl(currentSelectedItem.photoId)"
        [events]="eventsSubject.asObservable()" (onUploadFinished)="uploadFinished($event)">
      </app-photo-upload>
      <button type="submit" class="btn btn-primary" [disabled]="!arhitectItemsFormEdit.valid">Save</button>
    </form>
  </div>

  <div class="modal-footer">
    <button (click)="c('Close click')" class="btn btn-secondary" type="button">Close</button>
  </div>
</ng-template>
